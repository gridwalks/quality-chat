<!DOCTYPE html><html lang='en'><head><meta charset='UTF-8'/><meta name='viewport' content='width=device-width, initial-scale=1'/><title>Admin · Settings</title><link rel='preconnect' href='https://fonts.googleapis.com'><link rel='preconnect' href='https://fonts.gstatic.com' crossorigin><link href='https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap' rel='stylesheet'><script src='https://cdn.tailwindcss.com'></script><script defer src='https://identity.netlify.com/v1/netlify-identity-widget.js'></script><style>body{font-family:Inter,system-ui,sans-serif}</style></head><body class='bg-gray-50 text-gray-900'><div class='max-w-3xl mx-auto p-6'><div class='flex items-center justify-between mb-6'><h1 class='text-2xl font-bold'>Settings</h1><a href='/admin/' class='px-3 py-2 rounded border bg-white'>← Admin</a></div><div id='auth' class='text-sm text-gray-600 mb-6'>Checking login…</div><div class='bg-white border rounded-2xl shadow p-5 space-y-4'><h2 class='font-semibold'>Chat Provider</h2><p class='text-sm text-gray-600'>Choose which model provider the chat should use without redeploying. This sets a local override in your browser only (per user).</p><div class='grid sm:grid-cols-2 gap-3'><label class='text-sm'>Provider<select id='provider' class='w-full border rounded p-2 mt-1'><option value=''>\(Use server default\)</option><option value='OPENAI'>OPENAI</option><option value='LUMO'>LUMO \(Proton\)</option></select></label></div><div class='flex gap-2'><button id='save' class='px-3 py-2 rounded bg-indigo-600 text-white'>Save</button><button id='clear' class='px-3 py-2 rounded border bg-white'>Clear override</button></div><div id='status' class='text-sm text-gray-600'></div></div><p class='text-xs text-gray-500 mt-4'>Note: LUMO requires server env vars \(<code>LUMO_API_URL</code>, <code>LUMO_API_KEY</code>\). If not set, the request will return a clear error.</p></div><script>const auth=document.getElementById('auth');function gate(user){if(!user){location.replace('/login.html');return;}const roles=(user.app_metadata&&user.app_metadata.roles)||[];if(!roles.includes('admin')){location.replace('/access-denied.html');return;}auth.textContent='Signed in as '+user.email+' (admin)';}document.addEventListener('DOMContentLoaded',()=>{if(window.netlifyIdentity){window.netlifyIdentity.on('init',gate);window.netlifyIdentity.init();}else{location.replace('/login.html');}const sel=document.getElementById('provider');sel.value=localStorage.getItem('providerOverride')||'';document.getElementById('save').addEventListener('click',()=>{localStorage.setItem('providerOverride',sel.value||'');document.getElementById('status').textContent='Saved.';});document.getElementById('clear').addEventListener('click',()=>{localStorage.removeItem('providerOverride');sel.value='';document.getElementById('status').textContent='Override cleared.';});});</script></body></html>